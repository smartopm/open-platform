https://dev.dgdp.site {
  tls /root/certs/dev.dgdp.site/cert.pem /root/certs/dev.dgdp.site/privkey.pem
  log stdout
  errors stdout
  proxy /packs webpacker:3035 {
    transparent
  }
  proxy /sockjs-node webpacker:3035 {
    transparent
    websocket
  }
  proxy / rails:3000 {
    transparent
  }
}

https://vpn.dgdp.site {
  tls /root/certs/vpn.dgdp.site/cert.pem /root/certs/vpn.dgdp.site/privkey.pem
  log stdout
  errors stdout
  proxy /packs webpacker:3035 {
    transparent
  }
  proxy /sockjs-node webpacker:3035 {
    transparent
    websocket
  }
  proxy / rails:3000 {
    transparent
  }
}

https://olivier.dgdp.site {
  tls /root/certs/olivier.dgdp.site/cert.pem /root/certs/olivier.dgdp.site/privkey.pem
  log stdout
  errors stdout
  proxy /packs webpacker:3035 {
    transparent
  }
  proxy /sockjs-node webpacker:3035 {
    transparent
    websocket
  }
  proxy / rails:3000 {
    transparent
  }
}

https://dennis.dgdp.site {
  tls /root/certs/dennis.dgdp.site/cert.pem /root/certs/dennis.dgdp.site/privkey.pem
  log stdout
  errors stdout
  proxy /packs webpacker:3035 {
    transparent
  }
  proxy /sockjs-node webpacker:3035 {
    transparent
    websocket
  }
  proxy / rails:3000 {
    transparent
  }
}


localhost:443 {
  tls self_signed
  log stdout
  errors stdout
  proxy /packs webpacker:3035 {
    transparent
  }
  proxy /sockjs-node webpacker:3035 {
    transparent
    websocket
  }
  proxy / rails:3000 {
    transparent
  }
}

